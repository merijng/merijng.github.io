<!doctype html><html lang=nl><head><title>Substrings vs. Spans: Efficiënte Stringverwerking in C# :: Merijn Geurts</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Als je met strings werkt in C#, ben je waarschijnlijk de behoefte tegengekomen om substrings te extraheren of delen van een string te manipuleren. Traditioneel zou je de Substring-methode gebruiken om een deel van een string te extraheren, maar er is een nieuwere alternatief genaamd &amp;ldquo;spans&amp;rdquo; die je misschien wilt overwegen.
In dit artikel bekijken we de verschillen tussen substrings en spans in C#, en bespreken we hoe je elke aanpak efficiënt kunt gebruiken om strings in je code te verwerken."><meta name=keywords content="Software engineer"><meta name=robots content="noodp"><link rel=canonical href=https://merijng.github.io/posts/substring-vs-spans-efficient-string-handling-in-csharp/><link rel=alternate hreflang=en href=https://merijng.github.io/en/posts/substring-vs-spans-efficient-string-handling-in-csharp/><link rel=alternate hreflang=nl href=https://merijng.github.io/posts/substring-vs-spans-efficient-string-handling-in-csharp/><link rel=alternate hreflang=x-default href=https://merijng.github.io/en/posts/substring-vs-spans-efficient-string-handling-in-csharp/><link rel=stylesheet href=https://merijng.github.io/styles.css><link rel="shortcut icon" href=https://merijng.github.io/img/theme-colors/orange.png><link rel=apple-touch-icon href=https://merijng.github.io/img/theme-colors/orange.png><meta name=twitter:card content="summary"><meta name=twitter:site content><meta name=twitter:creator content><meta property="og:locale" content="nl"><meta property="og:type" content="article"><meta property="og:title" content="Substrings vs. Spans: Efficiënte Stringverwerking in C#"><meta property="og:description" content="Als je met strings werkt in C#, ben je waarschijnlijk de behoefte tegengekomen om substrings te extraheren of delen van een string te manipuleren. Traditioneel zou je de Substring-methode gebruiken om een deel van een string te extraheren, maar er is een nieuwere alternatief genaamd &amp;ldquo;spans&amp;rdquo; die je misschien wilt overwegen.
In dit artikel bekijken we de verschillen tussen substrings en spans in C#, en bespreken we hoe je elke aanpak efficiënt kunt gebruiken om strings in je code te verwerken."><meta property="og:url" content="https://merijng.github.io/posts/substring-vs-spans-efficient-string-handling-in-csharp/"><meta property="og:site_name" content="Merijn Geurts"><meta property="og:image" content="https://merijng.github.io/img/favicon/orange.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"></head><body class=orange><div class="container center"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>Merijn Geurts</div></a></div><ul class="menu menu--desktop menu--language-selector"><li class=menu__trigger>Nederlands&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=https://merijng.github.io/en/>English</a></li><li><a href=https://merijng.github.io/>Nederlands</a></li></ul></li></ul></div></header><div class=content><article class=post><h1 class=post-title><a href=https://merijng.github.io/posts/substring-vs-spans-efficient-string-handling-in-csharp/>Substrings vs. Spans: Efficiënte Stringverwerking in C#</a></h1><div class=post-meta><span class=post-reading-time>3 min read (459 words)</span></div><div class=table-of-contents><h2>Table of Contents</h2><nav id=TableOfContents><ul><li><a href=#what-are-substrings>What are Substrings?</a></li><li><a href=#wat-zijn-spans>Wat zijn Spans?</a></li><li><a href=#voordeel-van-het-gebruiken-van-spans>Voordeel van het Gebruiken van Spans</a></li><li><a href=#wanneer-substrings-vs-spans-te-gebruiken>Wanneer Substrings vs. Spans te Gebruiken</a></li><li><a href=#vergelijking-met-een-voorbeeld-uit-de-praktijk>Vergelijking met een Voorbeeld uit de Praktijk</a></li></ul></nav></div><div class=post-content><div><p>Als je met strings werkt in C#, ben je waarschijnlijk de behoefte tegengekomen om substrings te extraheren of delen van een string te manipuleren. Traditioneel zou je de Substring-methode gebruiken om een deel van een string te extraheren, maar er is een nieuwere alternatief genaamd &ldquo;spans&rdquo; die je misschien wilt overwegen.</p><p>In dit artikel bekijken we de verschillen tussen substrings en spans in C#, en bespreken we hoe je elke aanpak efficiënt kunt gebruiken om strings in je code te verwerken.</p><h2 id=what-are-substrings>What are Substrings?<a href=#what-are-substrings class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Een substring is een deel van een string dat je extraheert met de Substring-methode in C#.</p><p>Hier is een voorbeeld van hoe je een substring uit een string in C# zou extraheren:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>string</span> originalString = <span style=color:#e6db74>&#34;The quick brown fox jumps over the lazy dog&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>string</span> substring = originalString.Substring(<span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>); <span style=color:#75715e>// == quick</span>
</span></span></code></pre></div><p>In dit voorbeeld extraheren we een substring die begint bij index 4 en een lengte heeft van 5 tekens. De resulterende substring-variabele zal de tekst &ldquo;quick&rdquo; bevatten.</p><h2 id=wat-zijn-spans>Wat zijn Spans?<a href=#wat-zijn-spans class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Spans zijn een nieuwere alternatief voor substrings in C#. Ze bieden een efficiëntere manier om strings te manipuleren.</p><p>Een span is in wezen een “weergave” van een deel van een grotere array of string, zonder daadwerkelijk een nieuwe instantie van dat deel te maken. Dit betekent dat je de gegevens in de span kunt manipuleren zonder de originele gegevens te beïnvloeden.</p><p>Hier is een voorbeeld van hoe je een span in C# zou aanmaken:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>string</span> originalString = <span style=color:#e6db74>&#34;The quick brown fox jumps over the lazy dog&#34;</span>;
</span></span><span style=display:flex><span>ReadOnlySpan&lt;<span style=color:#66d9ef>char</span>&gt; span = originalString.AsSpan(<span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>); <span style=color:#75715e>// == quick</span>
</span></span></code></pre></div><p>In dit voorbeeld maken we een alleen-lezen span die begint bij index 4 en een lengte heeft van 5 tekens. De resulterende span-variabele zal dezelfde tekst (quick) bevatten als de substring-variabele uit het vorige voorbeeld.</p><h2 id=voordeel-van-het-gebruiken-van-spans>Voordeel van het Gebruiken van Spans<a href=#voordeel-van-het-gebruiken-van-spans class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Omdat spans in wezen “weergaven” zijn van een deel van een grotere array of string, maken ze geen nieuwe instanties van die gegevens aan. Dit betekent dat het gebruik van spans veel efficiënter kan zijn dan het gebruik van substrings, vooral bij het omgaan met grote strings.</p><h2 id=wanneer-substrings-vs-spans-te-gebruiken>Wanneer Substrings vs. Spans te Gebruiken<a href=#wanneer-substrings-vs-spans-te-gebruiken class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Hoewel spans over het algemeen efficiënter zijn dan substrings, zijn er nog steeds gevallen waarin substrings misschien geschikter zijn. Bijvoorbeeld, als je met een kleine string werkt of slechts één substring hoeft te extraheren, zijn de prestatievoordelen van het gebruik van spans mogelijk niet significant genoeg om de extra complexiteit te rechtvaardigen.</p><h2 id=vergelijking-met-een-voorbeeld-uit-de-praktijk>Vergelijking met een Voorbeeld uit de Praktijk<a href=#vergelijking-met-een-voorbeeld-uit-de-praktijk class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Ik heb een voorbeeld benchmark console toepassing gemaakt, die je kunt uitvoeren voor je eigen kennis. Hieronder zie je een voorbeeldresultaat van de benchmark.</p><p><img src=substrings-are-fast.webp alt="Substrings are fast"></p><p>Wat je kunt zien is dat de ReplaceSpan-methode ongeveer 40% sneller is. Bovendien is het toegewezen geheugen meer dan 50 procent minder.</p></div></div></article></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>Merijn Geurts</span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script></div></body></html>